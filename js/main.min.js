(function(){let s=window.require("fs"),n=window.require("process"),r=n.platform,o=("win32"===r?n.env.APPDATA:"darwin"===r?n.env.HOME+"/Library/Preferences":process.env.HOME+"/.config")+"/BetterDiscord/",d={};if(s.existsSync(`${o}localStorage.json`))try{d=JSON.parse(s.readFileSync(`${o}localStorage.json`))}catch(u){console.log(u)}else if(s.existsSync("localStorage.json"))try{d=JSON.parse(s.readFileSync("localStorage.json"))}catch(u){console.log(u)}var c=d;c.setItem=function(u,h){c[u]=h,this.save()},c.getItem=function(u){return c[u]||null},c.save=function(){s.writeFileSync(`${o}/localStorage.json`,JSON.stringify(this),null,4)};var l=new Proxy(c,{set:function(u,h,g){c[h]=g,c.save()},get:function(u,h){return c[h]||null}});window.localStorage=l})(),(()=>{let s=document.createElement("div");s.className="bd-loaderv2",s.title="BetterDiscord is loading...",document.body.appendChild(s)})(),window.bdStorage={},window.bdStorage.get=function(s){return betterDiscordIPC.sendSync("synchronous-message",{arg:"storage",cmd:"get","var":s})},window.bdStorage.set=function(s,n){betterDiscordIPC.sendSync("synchronous-message",{arg:"storage",cmd:"set","var":s,data:n})},window.bdPluginStorage={},window.bdPluginStorage.get=function(s,n){return betterDiscordIPC.sendSync("synchronous-message",{arg:"pluginstorage",cmd:"get",pn:s,"var":n})},window.bdPluginStorage.set=function(s,n,r){betterDiscordIPC.sendSync("synchronous-message",{arg:"pluginstorage",cmd:"set",pn:s,"var":n,data:r})},betterDiscordIPC.on("asynchronous-reply",(s,n)=>{console.log(s),console.log(n)});var settingsPanel,emoteModule,utils,quickEmoteMenu,voiceMode,pluginModule,themeModule,dMode,jsVersion=1.792,supportedVersion="0.2.81",mainObserver,twitchEmoteUrlStart="https://static-cdn.jtvnw.net/emoticons/v1/",twitchEmoteUrlEnd="/1.0",ffzEmoteUrlStart="https://cdn.frankerfacez.com/emoticon/",ffzEmoteUrlEnd="/1",bttvEmoteUrlStart="https://cdn.betterttv.net/emote/",bttvEmoteUrlEnd="/1x",mainCore,settings={"Startup Error Modal":{id:"bda-gs-9",info:"Show a modal with plugin/theme errors on startup.",implemented:!0,hidden:!1,cat:"core"},"Show Toasts":{id:"bda-gs-10",info:"Shows a small notification for starting and stopping plugins & themes.",implemented:!0,hidden:!1,cat:"core"},"Save logs locally":{id:"bda-gs-0",info:"Saves chat logs locally",implemented:!1,hidden:!1,cat:"core"},"Public Servers":{id:"bda-gs-1",info:"Display public servers button",implemented:!1,hidden:!1,cat:"core"},"Minimal Mode":{id:"bda-gs-2",info:"Hide elements and reduce the size of elements.",implemented:!0,hidden:!1,cat:"core"},"Voice Mode":{id:"bda-gs-4",info:"Only show voice chat",implemented:!0,hidden:!1,cat:"core"},"Hide Channels":{id:"bda-gs-3",info:"Hide channels in minimal mode",implemented:!0,hidden:!1,cat:"core"},"Dark Mode":{id:"bda-gs-5",info:"Make certain elements dark by default(wip)",implemented:!0,hidden:!1,cat:"core"},"Override Default Emotes":{id:"bda-es-5",info:"Override default emotes",implemented:!1,hidden:!1,cat:"core"},"Voice Disconnect":{id:"bda-dc-0",info:"Disconnect from voice server when closing Discord",implemented:!0,hidden:!1,cat:"core"},"Custom css live update":{id:"bda-css-0",info:"",implemented:!0,hidden:!0,cat:"core"},"Custom css auto udpate":{id:"bda-css-1",info:"",implemented:!0,hidden:!0,cat:"core"},"24 Hour Timestamps":{id:"bda-gs-6",info:"Replace 12hr timestamps with proper ones",implemented:!0,hidden:!1,cat:"core"},"Coloured Text":{id:"bda-gs-7",info:"Make text colour the same as role colour",implemented:!0,hidden:!1,cat:"core"},"BetterDiscord Blue":{id:"bda-gs-b",info:"Replace Discord blue with BD Blue",implemented:!0,hidden:!1,cat:"core"},"Developer Mode":{id:"bda-gs-8",info:"Developer Mode",implemented:!0,hidden:!1,cat:"core"},"Copy Selector":{id:"bda-gs-11",info:"Adds a \"Copy Selector\" option to context menus when developer mode is active.",implemented:!0,hidden:!1,cat:"core"},"Twitch Emotes":{id:"bda-es-7",info:"Show Twitch emotes",implemented:!0,hidden:!1,cat:"emote"},"FrankerFaceZ Emotes":{id:"bda-es-1",info:"Show FrankerFaceZ Emotes",implemented:!0,hidden:!1,cat:"emote"},"BetterTTV Emotes":{id:"bda-es-2",info:"Show BetterTTV Emotes",implemented:!0,hidden:!1,cat:"emote"},"Emote Menu":{id:"bda-es-0",info:"Show Twitch/Favourite emotes in emote menu",implemented:!0,hidden:!1,cat:"emote"},"Emoji Menu":{id:"bda-es-9",info:"Show Discord emoji menu",implemented:!0,hidden:!1,cat:"emote"},"Emote Autocomplete":{id:"bda-es-3",info:"Autocomplete emote commands",implemented:!1,hidden:!1,cat:"emote"},"Emote Auto Capitalization":{id:"bda-es-4",info:"Autocapitalize emote commands",implemented:!0,hidden:!1,cat:"emote"},"Show Names":{id:"bda-es-6",info:"Show emote names on hover",implemented:!0,hidden:!1,cat:"emote"},"Show emote modifiers":{id:"bda-es-8",info:"Enable emote mods (flip, spin, pulse, spin2, spin3, 1spin, 2spin, 3spin, tr, bl, br, shake, shake2, shake3, flap)",implemented:!0,hidden:!1,cat:"emote"}},defaultCookie={version:jsVersion,"bda-gs-0":!1,"bda-gs-1":!1,"bda-gs-2":!1,"bda-gs-3":!1,"bda-gs-4":!1,"bda-gs-5":!0,"bda-gs-6":!1,"bda-gs-7":!1,"bda-gs-8":!1,"bda-gs-11":!1,"bda-gs-9":!0,"bda-gs-10":!0,"bda-es-0":!0,"bda-es-1":!0,"bda-es-2":!0,"bda-es-3":!1,"bda-es-4":!1,"bda-es-5":!0,"bda-es-6":!0,"bda-es-7":!0,"bda-gs-b":!0,"bda-es-8":!0,"bda-jd":!0,"bda-dc-0":!1,"bda-css-0":!1,"bda-css-1":!1,"bda-es-9":!0},settingsCookie={},bdpluginErrors,bdthemeErrors;function Core(){}Core.prototype.init=function(){function s(){console.log(new Date().getTime()+" Defer"),0<document.querySelectorAll(".guilds .guild").length?(console.log(new Date().getTime()+" Defer Loaded"),n.injectExternals(),!bdpluginErrors&&(bdpluginErrors=[]),!bdthemeErrors&&(bdthemeErrors=[]),utils.log("Loading Plugins"),pluginModule=new PluginModule,pluginModule.loadPlugins(),utils.log("Loading Themes"),themeModule=new ThemeModule,themeModule.loadThemes(),utils.log("Updating Settings"),settingsPanel=new V2_SettingsPanel,settingsPanel.updateSettings(),utils.log("Initializing QuickEmoteMenu"),quickEmoteMenu.init(!1),window.addEventListener("beforeunload",function(){settingsCookie["bda-dc-0"]&&document.querySelector(".btn.btn-disconnect").click()}),emoteModule.autoCapitalize(),settingsCookie.version<jsVersion&&(settingsCookie.version=jsVersion,n.saveSettings()),utils.log("Removing Loading Icon"),$("head").append("<style>.CodeMirror{ min-width:100%; }</style>"),$("head").append("<style id=\"bdemotemenustyle\"></style>"),document.getElementsByClassName("bd-loaderv2")[0].remove(),settingsCookie["bda-gs-9"]&&(utils.log("Collecting Startup Errors"),n.showStartupErrors()),utils.log("Initializing Main Observer"),n.initObserver()):setTimeout(s,100)}var n=this,r="undefined"==typeof version?bdVersion:version;return r<supportedVersion?void this.alert("Not Supported","BetterDiscord v"+r+"(your version) is not supported by the latest js("+jsVersion+").<br><br> Please download the latest version from <a href='https://betterdiscord.net' target='_blank'>BetterDiscord.net</a>"):void(utils=new Utils,utils.getHash(),emoteModule=new EmoteModule,quickEmoteMenu=new QuickEmoteMenu,voiceMode=new VoiceMode,dMode=new devMode,utils.log("Initializing EmoteModule"),emoteModule.init(),utils.log("Initializing Settings"),this.initSettings(),$(document).ready(function(){setTimeout(s,1e3)}))},Core.prototype.injectExternals=function(){utils.injectJs("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.min.js"),utils.injectJs("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/css/css.min.js"),utils.injectJs("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/scroll/simplescrollbars.min.js"),utils.injectCss("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/scroll/simplescrollbars.min.css"),utils.injectCss("https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/theme/material.min.css"),utils.injectJs("https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.4.2/Sortable.min.js")},Core.prototype.initSettings=function(){if(void 0==$.cookie("better-discord"))settingsCookie=defaultCookie,this.saveSettings();else for(var s in this.loadSettings(),$("<style id=\"customcss\">").html(atob(window.bdStorage.get("bdcustomcss"))).appendTo(document.head),defaultCookie)void 0==settingsCookie[s]&&(settingsCookie[s]=defaultCookie[s],this.saveSettings())},Core.prototype.saveSettings=function(){$.cookie("better-discord",JSON.stringify(settingsCookie),{expires:365,path:"/"})},Core.prototype.loadSettings=function(){settingsCookie=JSON.parse($.cookie("better-discord"))},Core.prototype.initObserver=function(){let s=this;mainObserver=new MutationObserver(function(n){n.forEach(function(r){if("undefined"!=typeof pluginModule&&pluginModule.rawObserver(r),r.removedNodes.length&&r.removedNodes[0]instanceof Element){let d=r.removedNodes[0];(d.classList.contains("activityFeed-HeiGwL")||"friends"===d.id)&&pluginModule.channelSwitch()}if(r.addedNodes.length&&r.addedNodes[0]instanceof Element){let o=r.addedNodes[0];o.classList.contains("layer")&&(o.querySelector(".guild-settings-base-section")&&o.setAttribute("layer-id","server-settings"),o.querySelector(".socialLinks-1oZoF3")&&(o.setAttribute("layer-id","user-settings"),!o.querySelector("#bd-settings-sidebar")&&settingsPanel.renderSidebar())),o.classList.contains("popout")&&!o.classList.contains("popout-left")&&o.getElementsByClassName("emoji-picker").length&&quickEmoteMenu.obsCallback(o),(o.classList.contains("activityFeed-HeiGwL")||"friends"===o.id)&&pluginModule.channelSwitch(),(o.classList.contains("messages-wrapper")||o.querySelector(".messages-wrapper"))&&(s.inject24Hour(o),s.injectColoredText(o),pluginModule.channelSwitch()),o.classList.contains("message-group")&&!o.querySelector(".message-sending")&&(s.inject24Hour(o),s.injectColoredText(o),o.parentElement&&o.parentElement.children&&o==o.parentElement.children[o.parentElement.children.length-1]&&pluginModule.newMessage()),o.classList.contains("message")&&!o.classList.contains("message-sending")&&(s.injectColoredText(o.parentElement.parentElement),pluginModule.newMessage()),emoteModule.obsCallback(r)}})}),mainObserver.observe(document,{childList:!0,subtree:!0})},Core.prototype.inject24Hour=function(s){settingsCookie["bda-gs-6"]&&s.querySelectorAll(".timestamp").forEach(n=>{if(!n.getAttribute("data-24")){let r=n.innerText||n.textContent,o=/([^0-9]*)([0-9]?[0-9]:[0-9][0-9])([^0-9]*)/.exec(r);if(null!=o&&!(4>o.length)){let d=o[2].split(":"),c=parseInt(d[0]),l=d[1],u=o[3].toLowerCase();u.includes("am")&&12==c?c-=12:u.includes("pm")&&2>c&&(c+=12),c=("0"+c).slice(-2),n.innerText=o[1]+c+":"+l+o[3],n.setAttribute("data-24",o[2])}}})},Core.prototype.remove24Hour=function(s){s.querySelectorAll(".timestamp").forEach(n=>{if(n.getAttribute("data-24")){let r=n.getAttribute("data-24");n.removeAttribute("data-24");let o=n.innerText||n.textContent,d=/([^0-9]*)([0-9]?[0-9]:[0-9][0-9])([^0-9]*)/.exec(o);null==d||4>d.length||(n.innerText=d[1]+r+d[3])}})},Core.prototype.injectColoredText=function(s){settingsCookie["bda-gs-7"]&&s.querySelectorAll(".user-name").forEach(n=>{let r=n.style.color;"rgb(255, 255, 255)"===r||n.closest(".message-group").querySelectorAll(".markup").forEach(o=>{o.getAttribute("data-color")||(o.setAttribute("data-color",!0),o.style.setProperty("color",r))})})},Core.prototype.removeColoredText=function(s){s.querySelectorAll(".user-name").forEach(n=>{n.closest(".message-group").querySelectorAll(".markup").forEach(r=>{r.getAttribute("data-color")&&(r.removeAttribute("data-color"),r.style.setProperty("color",""))})})},Core.prototype.alert=function(s,n){let r=$(`<div class="bd-modal-wrapper theme-dark">
                    <div class="bd-backdrop backdrop-2ohBEd"></div>
                    <div class="bd-modal modal-2LIEKY">
                        <div class="bd-modal-inner inner-1_1f7b">
                            <div class="header header-3sp3cE">
                                <div class="title">${s}</div>
                            </div>
                            <div class="bd-modal-body">
                                <div class="scroller-wrap fade">
                                    <div class="scroller">
                                        ${n}
                                    </div>
                                </div>
                            </div>
                            <div class="footer footer-1PYmcw">
                                <button type="button">Okay</button>
                            </div>
                        </div>
                    </div>
                </div>`);r.find(".footer button").on("click",()=>{r.addClass("closing"),setTimeout(()=>{r.remove()},300)}),r.find(".bd-backdrop").on("click",()=>{r.addClass("closing"),setTimeout(()=>{r.remove()},300)}),r.appendTo("#app-mount")},Core.prototype.showStartupErrors=function(){function s(o){let d=$(`<div class="errors">`);for(let c of o){let l=$(`<div class="error">
                                <div class="table-column column-name">${c.name?c.name:c.file}</div>
                                <div class="table-column column-reason">${c.reason}</div>
                                <div class="table-column column-error"><a class="error-link" href="">${c.error?c.error.message:""}</a></div>
                            </div>`);d.append(l),c.error&&l.find("a").on("click",u=>{u.preventDefault(),utils.err(`Error details for ${c.name?c.name:c.file}.`,c.error)})}return d}if(bdpluginErrors&&bdthemeErrors&&(bdpluginErrors.length||bdthemeErrors.length)){let n=$(`<div class="bd-modal-wrapper theme-dark">
                    <div class="bd-backdrop backdrop-2ohBEd"></div>
                    <div class="bd-modal bd-startup-modal modal-2LIEKY">
                        <div class="bd-modal-inner inner-1_1f7b">
                            <div class="header header-3sp3cE"><div class="title">Startup Errors</div></div>
                            <div class="bd-modal-body">
                                <div class="tab-bar-container">
                                    <div class="tab-bar TOP">
                                        <div class="tab-bar-item">Plugins</div>
                                        <div class="tab-bar-item">Themes</div>
                                    </div>
                                </div>
                                <div class="table-header">
                                    <div class="table-column column-name">Name</div>
                                    <div class="table-column column-reason">Reason</div>
                                    <div class="table-column column-error">Error</div>
                                </div>
                                <div class="scroller-wrap fade">
                                    <div class="scroller">

                                    </div>
                                </div>
                            </div>
                            <div class="footer footer-1PYmcw">
                                <button type="button">Okay</button>
                            </div>
                        </div>
                    </div>
                </div>`),r=[s(bdpluginErrors),s(bdthemeErrors)];n.find(".tab-bar-item").on("click",o=>{o.preventDefault(),n.find(".tab-bar-item").removeClass("selected"),$(o.target).addClass("selected"),n.find(".scroller").empty().append(r[$(o.target).index()])}),n.find(".footer button").on("click",()=>{n.addClass("closing"),setTimeout(()=>{n.remove()},300)}),n.find(".bd-backdrop").on("click",()=>{n.addClass("closing"),setTimeout(()=>{n.remove()},300)}),n.appendTo("#app-mount"),n.find(".tab-bar-item")[0].click()}},Core.prototype.showToast=function(s,n={}){if(!document.querySelector(".bd-toasts")){let l=document.createElement("div");l.classList.add("bd-toasts");let u=document.querySelector(".chat form, #friends, .noChannel-2EQ0a9, .activityFeed-HeiGwL");l.style.setProperty("left",u?u.getBoundingClientRect().left+"px":"0px"),l.style.setProperty("width",u?u.offsetWidth+"px":"100%"),l.style.setProperty("bottom",(document.querySelector(".chat form")?document.querySelector(".chat form").offsetHeight:80)+"px"),document.querySelector(".app").appendChild(l)}const{type:r="",icon:o=!0,timeout:d=3e3}=n;let c=document.createElement("div");c.classList.add("bd-toast"),r&&c.classList.add("toast-"+r),r&&o&&c.classList.add("icon"),c.innerText=s,document.querySelector(".bd-toasts").appendChild(c),setTimeout(()=>{c.classList.add("closing"),setTimeout(()=>{c.remove(),document.querySelectorAll(".bd-toasts .bd-toast").length||document.querySelector(".bd-toasts").remove()},300)},d)};var emotesFfz={},emotesBTTV={},emotesBTTV2={},emotesTwitch={emote:{id:0}},subEmotesTwitch={};function EmoteModule(){}EmoteModule.prototype.init=function(){},EmoteModule.prototype.getBlacklist=function(){$.getJSON("https://cdn.rawgit.com/Jiiks/betterDiscordApp/"+_hash+"/data/emotefilter.json",function(s){bemotes=s.blacklist})},EmoteModule.prototype.obsCallback=function(s){for(var o,n=this,r=0;r<s.addedNodes.length;++r)if(o=s.addedNodes.item(r),o){var d=n.getNodes(o);for(var c in d)if(d.hasOwnProperty(c)){var l=d[c].parentElement;l&&l.classList.contains("edited")?n.injectEmote(l):n.injectEmote(d[c])}}},EmoteModule.prototype.getNodes=function(s){for(var n,r=[],o=document.createTreeWalker(s,NodeFilter.SHOW_TEXT,null,!1);n=o.nextNode();)r.push(n);return r};var bemotes=[];EmoteModule.prototype.injectEmote=function(s){function n(){var d=o.contents();d.each(function(c){if(void 0!=d[c]){var l=d[c].nodeValue;if(null!=l&&8!=d[c].nodeType){d.splice(c,1);var u=l.split(/([^\s]+)([\s]|$)/g).filter(function(E){return E}),h=0,g=!1,b=null;if(u.forEach(function(E,k,C){-1<E.indexOf("[!s]")&&(E=E.replace("[!s]",""),o.data("spoilered",!1),o.addClass("spoiler"));var N="",T=!1,D=E;if(-1<E.indexOf(":")){var j=E.split(":");""!=j[0]&&""!=j[1]&&(-1<["flip","spin","pulse","spin2","spin3","1spin","2spin","3spin","tr","bl","br","shake","shake2","shake3","flap"].indexOf(j[1])&&(D=j[0],N=settingsCookie["bda-es-8"]?"emote"+j[1]:""),"bttv"==j[1]&&(D=j[0],T=!0))}if(-1==$.inArray(D,bemotes)){if(settingsCookie["bda-es-7"]&&emotesTwitch.hasOwnProperty(D)&&4<=D.length){null!=b&&(d.splice(c+h++,0,document.createTextNode(b)),b=null);let P=twitchEmoteUrlStart+emotesTwitch[D].id+twitchEmoteUrlEnd;return d.splice(c+h++,0,r.createEmoteElement(D,P,N)),void(g=!0)}if(settingsCookie["bda-es-7"]&&subEmotesTwitch.hasOwnProperty(D)&&4<=D.length){null!=b&&(d.splice(c+h++,0,document.createTextNode(b)),b=null);let P=twitchEmoteUrlStart+subEmotesTwitch[D]+twitchEmoteUrlEnd;return d.splice(c+h++,0,r.createEmoteElement(D,P,N)),void(g=!0)}if(settingsCookie["bda-es-2"]&&emotesBTTV.hasOwnProperty(D)&&4<=D.length){null!=b&&(d.splice(c+h++,0,document.createTextNode(b)),b=null);let P=emotesBTTV[D];return d.splice(c+h++,0,r.createEmoteElement(D,P,N)),void(g=!0)}if(settingsCookie["bda-es-1"]&&(!T||!emotesBTTV2.hasOwnProperty(D))&&emotesFfz.hasOwnProperty(D)&&4<=D.length){null!=b&&(d.splice(c+h++,0,document.createTextNode(b)),b=null);let P=ffzEmoteUrlStart+emotesFfz[D]+ffzEmoteUrlEnd;return d.splice(c+h++,0,r.createEmoteElement(D,P,N)),void(g=!0)}if(settingsCookie["bda-es-2"]&&emotesBTTV2.hasOwnProperty(D)&&4<=D.length){null!=b&&(d.splice(c+h++,0,document.createTextNode(b)),b=null);let P=bttvEmoteUrlStart+emotesBTTV2[D]+bttvEmoteUrlEnd;return T&&emotesFfz.hasOwnProperty(D)&&(D+=":bttv"),d.splice(c+h++,0,r.createEmoteElement(D,P,N)),void(g=!0)}}null==b?b=E:b+=""+E,k===C.length-1&&d.splice(c+h,0,document.createTextNode(b))}),g){var f=o.outerHeight();o.html(d);var y=$(".scroller.messages").first();y.scrollTop(y.scrollTop()+(o.outerHeight()-f))}}}})}var r=this;if(s.parentElement){var o=s.parentElement;(o.classList.contains("markup")||o.classList.contains("message-content"))&&(o=$(o),n(),o.children().hasClass("edited")&&setTimeout(n,250))}},EmoteModule.prototype.createEmoteElement=function(s,n,r){var o=Math.round(s.length/4),d=s.substr(0,o)+"\uFDD9"+s.substr(o,o)+"\uFDD9"+s.substr(2*o,o)+"\uFDD9"+s.substr(3*o);return $.parseHTML(("<span class=\"emotewrapper\"><img draggable=\"false\" style=\"max-height:32px;\" class=\"emote "+r+"\" alt=\""+d+"\" src=\""+n+"\"/><input onclick='quickEmoteMenu.favorite(\""+d+"\", \""+n+"\");' class=\"fav\" title=\"Favorite!\" type=\"button\"></span>").replace(/﷙/g,""))[0]},EmoteModule.prototype.autoCapitalize=function(){var s=this;$("body").delegate($(".channelTextArea-1HTP3C textarea:first"),"keyup change paste",function(){if(settingsCookie["bda-es-4"]){var n=$(".channelTextArea-1HTP3C textarea:first").val();if(void 0!=n){var r=n.split(" ").pop();if(3<r.length){if("danSgame"==r)return;var o=s.capitalize(r.toLowerCase());null!==o&&void 0!==o&&utils.insertText(utils.getTextArea()[0],n.replace(r,o))}}}})},EmoteModule.prototype.capitalize=function(s){var n=emotesTwitch;for(var r in n)if(n.hasOwnProperty(r)&&s==(r+"").toLowerCase())return r};function QuickEmoteMenu(){}QuickEmoteMenu.prototype.init=function(){$(document).on("mousedown",function(l){"rmenu"!=l.target.id&&$("#rmenu").remove()}),this.favoriteEmotes={};var s=window.bdStorage.get("bdfavemotes");""!==s&&null!==s&&(this.favoriteEmotes=JSON.parse(atob(s)));var n="";n+="<div id=\"bda-qem\">",n+="    <button class=\"active\" id=\"bda-qem-twitch\" onclick='quickEmoteMenu.switchHandler(this); return false;'>Twitch</button>",n+="    <button id=\"bda-qem-favourite\" onclick='quickEmoteMenu.switchHandler(this); return false;'>Favourite</button>",n+="    <button id=\"bda-qem-emojis\" onclick='quickEmoteMenu.switchHandler(this); return false;'>Emojis</buttond>",n+="</div>",this.qmeHeader=n;var r="";for(let l in r+="<div id=\"bda-qem-twitch-container\">",r+="    <div class=\"scroller-wrap fade\">",r+="        <div class=\"scroller\">",r+="            <div class=\"emote-menu-inner\">",emotesTwitch)if(emotesTwitch.hasOwnProperty(l)){var o=emotesTwitch[l].id;r+="<div class=\"emote-container\">",r+="    <img class=\"emote-icon\" id=\""+l+"\" alt=\"\" src=\"https://static-cdn.jtvnw.net/emoticons/v1/"+o+"/1.0\" title=\""+l+"\">",r+="    </img>",r+="</div>"}r+="            </div>",r+="        </div>",r+="    </div>",r+="</div>",this.teContainer=r;var d="";for(let l in d+="<div id=\"bda-qem-favourite-container\">",d+="    <div class=\"scroller-wrap fade\">",d+="        <div class=\"scroller\">",d+="            <div class=\"emote-menu-inner\">",this.favoriteEmotes){var c=this.favoriteEmotes[l];d+="<div class=\"emote-container\">",d+="    <img class=\"emote-icon\" alt=\"\" src=\""+c+"\" title=\""+l+"\" oncontextmenu='quickEmoteMenu.favContext(event, this);'>",d+="    </img>",d+="</div>"}d+="            </div>",d+="        </div>",d+="    </div>",d+="</div>",this.faContainer=d},QuickEmoteMenu.prototype.favContext=function(s,n){s.stopPropagation();var r=$("<div>",{id:"rmenu","data-emoteid":$(n).prop("title"),text:"Remove",class:"context-menu theme-dark"});return r.css({top:s.pageY-$("#bda-qem-favourite-container").offset().top,left:s.pageX-$("#bda-qem-favourite-container").offset().left}),$(n).parent().append(r),r.on("click",function(o){return o.preventDefault(),o.stopPropagation(),$(this).remove(),delete quickEmoteMenu.favoriteEmotes[$(this).data("emoteid")],quickEmoteMenu.updateFavorites(),!1}),!1},QuickEmoteMenu.prototype.switchHandler=function(s){this.switchQem($(s).attr("id"))},QuickEmoteMenu.prototype.switchQem=function(s){var n=$("#bda-qem-twitch"),r=$("#bda-qem-favourite"),o=$("#bda-qem-emojis");n.removeClass("active"),r.removeClass("active"),o.removeClass("active"),$(".emoji-picker").hide(),$("#bda-qem-favourite-container").hide(),$("#bda-qem-twitch-container").hide();"bda-qem-twitch"===s?(n.addClass("active"),$("#bda-qem-twitch-container").show()):"bda-qem-favourite"===s?(r.addClass("active"),$("#bda-qem-favourite-container").show()):"bda-qem-emojis"===s?(o.addClass("active"),$(".emoji-picker").show(),$(".emoji-picker .search-bar-inner input").focus()):void 0;this.lastTab=s;var d=$(".emote-icon");d.off(),d.on("click",function(){var c=$(this).attr("title"),l=utils.getTextArea();utils.insertText(l[0]," "==l.val().slice(-1)?l.val()+c:l.val()+" "+c)})},QuickEmoteMenu.prototype.obsCallback=function(s){var n=$(s);settingsCookie["bda-es-9"]?n.removeClass("bda-qme-hidden"):n.addClass("bda-qme-hidden");settingsCookie["bda-es-0"]&&(n.prepend(this.qmeHeader),n.append(this.teContainer),n.append(this.faContainer),this.lastTab==void 0&&(this.lastTab="bda-qem-favourite"),this.switchQem(this.lastTab))},QuickEmoteMenu.prototype.favorite=function(s,n){this.favoriteEmotes.hasOwnProperty(s)||(this.favoriteEmotes[s]=n),this.updateFavorites()},QuickEmoteMenu.prototype.updateFavorites=function(){var s="";for(var n in s+="<div id=\"bda-qem-favourite-container\">",s+="    <div class=\"scroller-wrap fade\">",s+="        <div class=\"scroller\">",s+="            <div class=\"emote-menu-inner\">",this.favoriteEmotes){var r=this.favoriteEmotes[n];s+="<div class=\"emote-container\">",s+="    <img class=\"emote-icon\" alt=\"\" src=\""+r+"\" title=\""+n+"\" oncontextmenu=\"quickEmoteMenu.favContext(event, this);\">",s+="    </img>",s+="</div>"}s+="            </div>",s+="        </div>",s+="    </div>",s+="</div>",this.faContainer=s,$("#bda-qem-favourite-container").replaceWith(s),window.bdStorage.set("bdfavemotes",btoa(JSON.stringify(this.favoriteEmotes)))};var _hash;function Utils(){}Utils.prototype.getTextArea=function(){return $(".channelTextArea-1HTP3C textarea")},Utils.prototype.insertText=function(s,n){s.focus(),s.selectionStart=0,s.selectionEnd=s.value.length,document.execCommand("insertText",!1,n)},Utils.prototype.jqDefer=function(s){window.jQuery?s():setTimeout(function(){this.jqDefer(s)},100)},Utils.prototype.getHash=function(){$.getJSON("https://api.github.com/repos/Jiiks/BetterDiscordApp/commits/master",function(s){_hash=s.sha,emoteModule.getBlacklist()})},Utils.prototype.loadHtml=function(s,n){var r=$("<div/>",{class:"bd-container"}).appendTo("body");s="//cdn.rawgit.com/Jiiks/BetterDiscordApp/"+_hash+"/html/"+s+".html",r.load(s,n())},Utils.prototype.injectJs=function(s){$("<script/>",{type:"text/javascript",src:s}).appendTo($("body"))},Utils.prototype.injectCss=function(s){$("<link/>",{type:"text/css",rel:"stylesheet",href:s}).appendTo($("head"))},Utils.prototype.escapeID=function(s){return s.replace(/^[^a-z]+|[^\w-]+/gi,"")},Utils.prototype.log=function(s){console.log("%c[BetterDiscord] %c"+s+"","color: #3a71c1; font-weight: 700;","")},Utils.prototype.err=function(s,n){console.log("%c[BetterDiscord] %c"+s+"","color: red; font-weight: 700;",""),n&&(console.groupCollapsed("%cError: "+n.message,"color: red;"),console.error(n.stack),console.groupEnd())};function VoiceMode(){}VoiceMode.prototype.obsCallback=function(){var s=this;settingsCookie["bda-gs-4"]&&(s.disable(),setTimeout(function(){s.enable()},300))},VoiceMode.prototype.enable=function(){$(".scroller.guild-channels ul").first().css("display","none"),$(".scroller.guild-channels header").first().css("display","none"),$(".app.flex-vertical").first().css("overflow","hidden"),$(".chat.flex-vertical.flex-spacer").first().css("visibility","hidden").css("min-width","0px"),$(".flex-vertical.channels-wrap").first().css("flex-grow","100000"),$(".guild-header .btn.btn-hamburger").first().css("visibility","hidden")},VoiceMode.prototype.disable=function(){$(".scroller.guild-channels ul").first().css("display",""),$(".scroller.guild-channels header").first().css("display",""),$(".app.flex-vertical").first().css("overflow",""),$(".chat.flex-vertical.flex-spacer").first().css("visibility","").css("min-width",""),$(".flex-vertical.channels-wrap").first().css("flex-grow",""),$(".guild-header .btn.btn-hamburger").first().css("visibility","")};var pluginCookie={};function PluginModule(){}PluginModule.prototype.loadPlugins=function(){this.loadPluginData();for(var s=Object.keys(bdplugins),n=0;n<s.length;n++){var r,o;try{r=bdplugins[s[n]].plugin,o=r.getName(),r.load()}catch(d){pluginCookie[o]=!1,utils.err("Plugin "+o+" could not be loaded.",d),bdpluginErrors.push({name:o,file:bdplugins[s[n]].filename,reason:"load() could not be fired.",error:{message:d.message,stack:d.stack}});continue}if(pluginCookie[o]||(pluginCookie[o]=!1),pluginCookie[o])try{r.start(),settingsCookie["bda-gs-10"]&&mainCore.showToast(`${r.getName()} v${r.getVersion()} has started.`)}catch(d){pluginCookie[o]=!1,utils.err("Plugin "+o+" could not be started.",d),bdpluginErrors.push({name:o,file:bdplugins[s[n]].filename,reason:"start() could not be fired.",error:{message:d.message,stack:d.stack}})}}this.savePluginData()},PluginModule.prototype.startPlugin=function(s){try{bdplugins[s].plugin.start(),settingsCookie["bda-gs-10"]&&mainCore.showToast(`${bdplugins[s].plugin.getName()} v${bdplugins[s].plugin.getVersion()} has started.`)}catch(n){pluginCookie[s]=!1,this.savePluginData(),utils.err("Plugin "+name+" could not be started.",n)}},PluginModule.prototype.stopPlugin=function(s){try{bdplugins[s].plugin.stop(),settingsCookie["bda-gs-10"]&&mainCore.showToast(`${bdplugins[s].plugin.getName()} v${bdplugins[s].plugin.getVersion()} has stopped.`)}catch(n){utils.err("Plugin "+name+" could not be stopped.",n)}},PluginModule.prototype.enablePlugin=function(s){pluginCookie[s]=!0,this.savePluginData(),this.startPlugin(s)},PluginModule.prototype.disablePlugin=function(s){pluginCookie[s]=!1,this.savePluginData(),this.stopPlugin(s)},PluginModule.prototype.togglePlugin=function(s){pluginCookie[s]?this.disablePlugin(s):this.enablePlugin(s)},PluginModule.prototype.loadPluginData=function(){var s=$.cookie("bd-plugins");s!=void 0&&(pluginCookie=JSON.parse($.cookie("bd-plugins")))},PluginModule.prototype.savePluginData=function(){$.cookie("bd-plugins",JSON.stringify(pluginCookie),{expires:365,path:"/"})},PluginModule.prototype.newMessage=function(){for(var r,s=Object.keys(bdplugins),n=0;n<s.length;n++)if(r=bdplugins[s[n]].plugin,pluginCookie[r.getName()]&&"function"==typeof r.onMessage)try{r.onMessage()}catch(h){utils.err("Unable to fire onMessage for "+r.getName()+".",h)}},PluginModule.prototype.channelSwitch=function(){for(var r,s=Object.keys(bdplugins),n=0;n<s.length;n++)if(r=bdplugins[s[n]].plugin,pluginCookie[r.getName()]&&"function"==typeof r.onSwitch)try{r.onSwitch()}catch(g){utils.err("Unable to fire onSwitch for "+r.getName()+".",g)}},PluginModule.prototype.rawObserver=function(s){for(var o,n=Object.keys(bdplugins),r=0;r<n.length;r++)if(o=bdplugins[n[r]].plugin,pluginCookie[o.getName()]&&"function"==typeof o.observer)try{o.observer(s)}catch(b){utils.err("Unable to fire observer for "+o.getName()+".",b)}};var themeCookie={};function ThemeModule(){}ThemeModule.prototype.loadThemes=function(){this.loadThemeData();for(var r,s=Object.keys(bdthemes),n=0;n<s.length;n++)r=bdthemes[s[n]].name,themeCookie[r]||(themeCookie[r]=!1),themeCookie[r]&&$("head").append($("<style>",{id:utils.escapeID(r),html:unescape(bdthemes[r].css)}))},ThemeModule.prototype.enableTheme=function(s){themeCookie[s]=!0,this.saveThemeData(),$("head").append(`<style id="${utils.escapeID(bdthemes[s].name)}">${unescape(bdthemes[s].css)}</style>`),settingsCookie["bda-gs-10"]&&mainCore.showToast(`${bdthemes[s].name} v${bdthemes[s].version} has been applied.`)},ThemeModule.prototype.disableTheme=function(s){themeCookie[s]=!1,this.saveThemeData(),$(`#${utils.escapeID(bdthemes[s].name)}`).remove(),settingsCookie["bda-gs-10"]&&mainCore.showToast(`${bdthemes[s].name} v${bdthemes[s].version} has been removed.`)},ThemeModule.prototype.toggleTheme=function(s){themeCookie[s]?this.disableTheme(s):this.enableTheme(s)},ThemeModule.prototype.loadThemeData=function(){var s=$.cookie("bd-themes");s!=void 0&&(themeCookie=JSON.parse($.cookie("bd-themes")))},ThemeModule.prototype.saveThemeData=function(){$.cookie("bd-themes",JSON.stringify(themeCookie),{expires:365,path:"/"})};function BdApi(){}BdApi.injectCSS=function(s,n){$("head").append($("<style>",{id:utils.escapeID(s),html:n}))},BdApi.clearCSS=function(s){$("#"+utils.escapeID(s)).remove()},BdApi.linkJS=function(s,n){$("head").append($("<script>",{id:utils.escapeID(s),src:n,type:"text/javascript"}))},BdApi.unlinkJS=function(s){$("#"+utils.escapeID(s)).remove()},BdApi.getPlugin=function(s){return bdplugins.hasOwnProperty(s)?bdplugins[s].plugin:null},BdApi.getIpc=function(){return betterDiscordIPC},BdApi.getCore=function(){return mainCore},BdApi.alert=function(s,n){mainCore.alert(s,n)},BdApi.showToast=function(s,n={}){mainCore.showToast(s,n)};function devMode(){}devMode.prototype.enable=function(s){var n=this;this.disable(),$(window).on("keydown.bdDevmode",function(r){if(119===r.which){console.log("%c[%cDevMode%c] %cBreak/Resume","color: red;","color: #303030; font-weight:700;","color:red;","");debugger}});s&&$(document).on("contextmenu.bdDevmode",function(r){var d=[];$(r.toElement).parents().addBack().not("html").each(function(){var c="";this.classList&&this.classList.length&&(c+="."+Array.prototype.join.call(this.classList,"."),d.push(c))}),n.lastSelector=d.join(" ").trim(),setImmediate(function(){var c=$(".context-menu");0>=c.length&&(c=$("<div class=\"context-menu bd-context-menu\"></div>"),c.addClass($(".app").hasClass("theme-dark")?"theme-dark":"theme-light"),c.appendTo(".app"),c.css("top",r.clientY),c.css("left",r.clientX),$(document).on("click.bdDevModeCtx",()=>{c.remove(),$(document).off(".bdDevModeCtx")}),$(document).on("contextmenu.bdDevModeCtx",()=>{c.remove(),$(document).off(".bdDevModeCtx")}),$(document).on("keyup.bdDevModeCtx",h=>{27===h.keyCode&&(c.remove(),$(document).off(".bdDevModeCtx"))}));var l=$("<div/>",{class:"item-group"}),u=$("<div/>",{class:"item",click:function(){var h=$("<textarea/>",{text:n.lastSelector}).appendTo("body");h.select(),document.execCommand("copy"),h.remove(),c.hide()}}).append($("<span/>",{text:"Copy Selector"}));l.append(u),c.append(l),c.css("top","-="+l.outerHeight())}),r.stopPropagation()})},devMode.prototype.disable=function(){$(window).off("keydown.bdDevmode"),$(document).off("contextmenu.bdDevmode"),$(document).off("contextmenu.bdDevModeCtx")},window.bdtemp={editorDetached:!1};class V2{constructor(){this.WebpackModules=(()=>{const s=webpackJsonp([],{__extra_id__:(d,c,l)=>c.default=l},["__extra_id__"]).default;delete s.m.__extra_id__,delete s.c.__extra_id__;const n=(d,c={})=>{const{cacheOnly:l=!0}=c;for(let u in s.c)if(s.c.hasOwnProperty(u)){let h=s.c[u].exports;if(h&&h.__esModule&&h.default&&d(h.default))return h.default;if(h&&d(h))return h}if(l)return console.warn("Cannot find loaded module in cache"),null;console.warn("Cannot find loaded module in cache. Loading all modules may have unexpected side effects");for(let u=0;u<s.m.length;++u)try{let h=s(u);if(h&&h.__esModule&&h.default&&d(h.default))return h.default;if(h&&d(h))return h}catch(h){console.error(h)}return console.warn("Cannot find module"),null};return{find:n,findByUniqueProperties:(d,c)=>n(l=>d.every(u=>l[u]!==void 0),c),findByDisplayName:(d,c)=>n(l=>l.displayName===d,c)}})(),this.internal={react:this.WebpackModules.findByUniqueProperties(["Component","PureComponent","Children","createElement","cloneElement"]),"react-dom":this.WebpackModules.findByUniqueProperties(["findDOMNode"])}}get reactComponent(){return this.internal.react.Component}get react(){return this.internal.react}get reactDom(){return this.internal["react-dom"]}parseSettings(s){return Object.keys(settings).reduce((n,r)=>{let o=settings[r];return o.cat===s&&o.implemented&&!o.hidden&&(o.text=r,n.push(o)),n},[])}}window.BDV2=new V2;class V2C_SettingsPanel extends BDV2.reactComponent{constructor(s){super(s)}render(){let{settings:s}=this.props;return BDV2.react.createElement("div",{className:"content-column default"},BDV2.react.createElement(V2Components.SettingsTitle,{text:this.props.title}),s.map(n=>{return BDV2.react.createElement(V2Components.Switch,{id:n.id,key:n.id,data:n,checked:settingsCookie[n.id],onChange:(r,o)=>{this.props.onChange(r,o)}})}))}}class V2C_Switch extends BDV2.reactComponent{constructor(s){super(s),this.setInitialState(),this.onChange=this.onChange.bind(this)}setInitialState(){this.state={checked:this.props.checked}}render(){let{text:s,info:n}=this.props.data,{checked:r}=this.state;return BDV2.react.createElement("div",{className:"ui-flex flex-vertical flex-justify-start flex-align-stretch flex-nowrap ui-switch-item"},BDV2.react.createElement("div",{className:"ui-flex flex-horizontal flex-justify-start flex-align-stretch flex-nowrap"},BDV2.react.createElement("h3",{className:"ui-form-title h3 margin-reset margin-reset ui-flex-child"},s),BDV2.react.createElement("label",{className:"ui-switch-wrapper ui-flex-child",style:{flex:"0 0 auto"}},BDV2.react.createElement("input",{className:"ui-switch-checkbox",type:"checkbox",checked:r,onChange:o=>this.onChange(o)}),BDV2.react.createElement("div",{className:`ui-switch ${r?"checked":""}`}))),BDV2.react.createElement("div",{className:"ui-form-text style-description margin-top-4",style:{flex:"1 1 auto"}},n))}onChange(){this.props.onChange(this.props.id,!this.state.checked),this.setState({checked:!this.state.checked})}}class V2C_Scroller extends BDV2.reactComponent{constructor(s){super(s)}render(){let s=`scroller-wrap${this.props.fade?" fade":""} ${this.props.dark?" dark":""}`,{children:n}=this.props;return BDV2.react.createElement("div",{key:"scrollerwrap",className:s},BDV2.react.createElement("div",{key:"scroller",ref:"scroller",className:"scroller"},n))}}class V2C_TabBarItem extends BDV2.reactComponent{constructor(s){super(s),this.setInitialState(),this.onClick=this.onClick.bind(this)}setInitialState(){this.state={selected:this.props.selected||!1}}render(){return BDV2.react.createElement("div",{className:`ui-tab-bar-item${this.props.selected?" selected":""}`,onClick:this.onClick},this.props.text)}onClick(){this.props.onClick&&this.props.onClick(this.props.id)}}class V2C_TabBarSeparator extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("div",{className:"ui-tab-bar-separator margin-top-8 margin-bottom-8"})}}class V2C_TabBarHeader extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("div",{className:"ui-tab-bar-header"},this.props.text)}}class V2C_SideBar extends BDV2.reactComponent{constructor(s){super(s);let n=this;const r=$("[class*=side] > [class*=selected]");r.length&&(n.scn=r.attr("class"));const o=$("[class*=side] > [class*=notSelected]");o.length&&(n.nscn=o.attr("class")),$("[class*=side] > [class*=item]").on("click",()=>{n.setState({selected:null})}),n.setInitialState(),n.onClick=n.onClick.bind(n)}setInitialState(){let s=this;s.state={selected:null,items:s.props.items};let n=s.props.items.find(r=>{return r.selected});n&&(s.state.selected=n.id)}render(){let s=this,{headerText:n}=s.props,{items:r,selected:o}=s.state;return BDV2.react.createElement("div",null,BDV2.react.createElement(V2Components.TabBar.Separator,null),BDV2.react.createElement(V2Components.TabBar.Header,{text:n}),r.map(d=>{let{id:c,text:l}=d;return BDV2.react.createElement(V2Components.TabBar.Item,{key:c,selected:o===c,text:l,id:c,onClick:s.onClick})}))}onClick(s){let n=this;const r=$("[class*=side] > [class*=selected]");r.length&&(r.off("click.bdsb").on("click.bsb",o=>{$(o.target).attr("class",n.scn)}),r.attr("class",n.nscn)),n.setState({selected:null}),n.setState({selected:s}),n.props.onClick&&n.props.onClick(s)}}class V2C_XSvg extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12",style:{width:"18px",height:"18px"}},BDV2.react.createElement("g",{className:"background",fill:"none",fillRule:"evenodd"},BDV2.react.createElement("path",{d:"M0 0h12v12H0"}),BDV2.react.createElement("path",{className:"fill",fill:"#dcddde",d:"M9.5 3.205L8.795 2.5 6 5.295 3.205 2.5l-.705.705L5.295 6 2.5 8.795l.705.705L6 6.705 8.795 9.5l.705-.705L6.705 6"})))}}class V2C_Tools extends BDV2.reactComponent{constructor(s){super(s),this.onClick=this.onClick.bind(this)}render(){return BDV2.react.createElement("div",{className:"tools"},BDV2.react.createElement("div",{className:"btn-close",onClick:this.onClick},BDV2.react.createElement(V2Components.XSvg,null)),BDV2.react.createElement("div",{className:"esc-text"},"ESC"))}onClick(){this.props.onClick&&this.props.onClick(),$(".btn-close").first().click()}}class V2C_SettingsTitle extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("h2",{className:"ui-form-title h2 margin-reset margin-bottom-20"},this.props.text)}}class V2C_Checkbox extends BDV2.reactComponent{constructor(s){super(s),this.onClick=this.onClick.bind(this),this.setInitialState()}setInitialState(){this.state={checked:this.props.checked||!1}}render(){return BDV2.react.createElement("li",null,BDV2.react.createElement("div",{className:"checkbox",onClick:this.onClick},BDV2.react.createElement("div",{className:"checkbox-inner"},BDV2.react.createElement("input",{checked:this.state.checked,onChange:()=>{},type:"checkbox"}),BDV2.react.createElement("span",null)),BDV2.react.createElement("span",null,this.props.text)))}onClick(){this.props.onChange(this.props.id,!this.state.checked),this.setState({checked:!this.state.checked})}}class V2C_CssEditorDetached extends BDV2.reactComponent{constructor(s){super(s);let n=this;n.onClick=n.onClick.bind(n),n.updateCss=n.updateCss.bind(n),n.saveCss=n.saveCss.bind(n),n.onChange=n.onChange.bind(n)}componentDidMount(){let s=this;$("#app-mount").addClass("bd-detached-editor"),s.editor=CodeMirror.fromTextArea(s.refs.editor,s.options),s.editor.on("change",()=>{settingsCookie["bda-css-0"]&&s.updateCss()}),window.bdtemp.editorDetached=!0}componentWillUnmount(){$("#app-mount").removeClass("bd-detached-editor"),window.bdtemp.editorDetached=!1}get options(){return{lineNumbers:!0,mode:"css",indentUnit:4,theme:"material",scrollbarStyle:"simple"}}get css(){let s=window.bdStorage.get("bdcustomcss"),n="";return s&&""!==s&&(n=atob(s)),n}get root(){let s=$("#bd-customcss-detach-container");return s.length?s[0]:this.injectRoot()?this.detachedRoot:null}injectRoot(){return!!$(".app").length&&($("<div/>",{id:"bd-customcss-detach-container"}).insertAfter($(".app")),!0)}render(){let s=this;return BDV2.react.createElement("div",{className:"bd-detached-css-editor",id:"bd-customcss-detach-editor"},BDV2.react.createElement("div",{id:"bd-customcss-innerpane"},BDV2.react.createElement("textarea",{onChange:()=>{},value:s.css,ref:"editor",id:"bd-customcss-ta"}),BDV2.react.createElement("div",{id:"bd-customcss-attach-controls"},BDV2.react.createElement("ul",{className:"checkbox-group"},BDV2.react.createElement(V2Components.Checkbox,{id:"live-update",text:"Live Update",onChange:s.onChange,checked:settingsCookie["bda-css-0"]})),BDV2.react.createElement("div",{id:"bd-customcss-detach-controls-button"},BDV2.react.createElement("button",{style:{borderRadius:"3px 0 0 3px",borderRight:"1px solid #3f4146"},className:"btn btn-primary",onClick:()=>{s.onClick("update")}},"Update"),BDV2.react.createElement("button",{style:{borderRadius:"0",borderLeft:"1px solid #2d2d2d",borderRight:"1px solid #2d2d2d"},className:"btn btn-primary",onClick:()=>{s.onClick("save")}},"Save"),BDV2.react.createElement("button",{style:{borderRadius:"0 3px 3px 0",borderLeft:"1px solid #3f4146"},className:"btn btn-primary",onClick:()=>{s.onClick("attach")}},"Attach"),BDV2.react.createElement("span",{style:{fontSize:"10px",marginLeft:"5px"}},"Unsaved changes are lost on attach")))))}onChange(s,n){"live-update"===s?(settingsCookie["bda-css-0"]=n,mainCore.saveSettings()):void 0}onClick(s){let n=this;"attach"===s?($("#editor-detached").length&&n.props.attach(),BDV2.reactDom.unmountComponentAtNode(n.root),n.root.remove()):"update"===s?n.updateCss():"save"===s?n.saveCss():void 0}updateCss(){let s=this;0==$("#customcss").length&&$("head").append("<style id=\"customcss\"></style>"),$("#customcss").html(s.editor.getValue())}saveCss(){let s=this;window.bdStorage.set("bdcustomcss",btoa(s.editor.getValue()))}}class V2C_CssEditor extends BDV2.reactComponent{constructor(s){super(s);let n=this;n.setInitialState(),n.attach=n.attach.bind(n),n.detachedEditor=BDV2.react.createElement(V2C_CssEditorDetached,{attach:n.attach}),n.onClick=n.onClick.bind(n),n.updateCss=n.updateCss.bind(n),n.saveCss=n.saveCss.bind(n),n.detach=n.detach.bind(n),n.codeMirror=n.codeMirror.bind(n)}setInitialState(){this.state={detached:this.props.detached||window.bdtemp.editorDetached}}componentDidMount(){let s=this;s.codeMirror()}componentDidUpdate(s,n){let r=this;n.detached&&!r.state.detached&&(BDV2.reactDom.unmountComponentAtNode(r.detachedRoot),r.codeMirror())}codeMirror(){let s=this;s.state.detached||(s.editor=CodeMirror.fromTextArea(s.refs.editor,s.options),s.editor.on("change",()=>{settingsCookie["bda-css-0"]&&s.updateCss()}))}get options(){return{lineNumbers:!0,mode:"css",indentUnit:4,theme:"material",scrollbarStyle:"simple"}}get css(){let s=window.bdStorage.get("bdcustomcss"),n="";return s&&""!==s&&(n=atob(s)),n}render(){let s=this,{detached:n}=s.state;return BDV2.react.createElement("div",{className:"content-column default",style:{padding:"60px 40px 0px"}},n&&BDV2.react.createElement("div",{id:"editor-detached"},BDV2.react.createElement(V2Components.SettingsTitle,{text:"Custom CSS Editor"}),BDV2.react.createElement("h3",null,"Editor Detached"),BDV2.react.createElement("button",{className:"btn btn-primary",onClick:()=>{s.attach()}},"Attach")),!n&&BDV2.react.createElement("div",null,BDV2.react.createElement(V2Components.SettingsTitle,{text:"Custom CSS Editor"}),BDV2.react.createElement("textarea",{ref:"editor",value:s.css,onChange:()=>{}}),BDV2.react.createElement("div",{id:"bd-customcss-attach-controls"},BDV2.react.createElement("ul",{className:"checkbox-group"},BDV2.react.createElement(V2Components.Checkbox,{id:"live-update",text:"Live Update",onChange:this.onChange,checked:settingsCookie["bda-css-0"]})),BDV2.react.createElement("div",{id:"bd-customcss-detach-controls-button"},BDV2.react.createElement("button",{style:{borderRadius:"3px 0 0 3px",borderRight:"1px solid #3f4146"},className:"btn btn-primary",onClick:()=>{s.onClick("update")}},"Update"),BDV2.react.createElement("button",{style:{borderRadius:"0",borderLeft:"1px solid #2d2d2d",borderRight:"1px solid #2d2d2d"},className:"btn btn-primary",onClick:()=>{s.onClick("save")}},"Save"),BDV2.react.createElement("button",{style:{borderRadius:"0 3px 3px 0",borderLeft:"1px solid #3f4146"},className:"btn btn-primary",onClick:()=>{s.onClick("detach")}},"Detach"),BDV2.react.createElement("span",{style:{fontSize:"10px",marginLeft:"5px"}},"Unsaved changes are lost on detach")))))}onClick(s){let n=this;"update"===s?n.updateCss():"save"===s?n.saveCss():"detach"===s?n.detach():void 0}onChange(s,n){"live-update"===s?(settingsCookie["bda-css-0"]=n,mainCore.saveSettings()):void 0}updateCss(){let s=this;0==$("#customcss").length&&$("head").append("<style id=\"customcss\"></style>"),$("#customcss").html(s.editor.getValue())}saveCss(){let s=this;window.bdStorage.set("bdcustomcss",btoa(s.editor.getValue()))}detach(){let s=this;s.setState({detached:!0});let n=s.detachedRoot;return n?void BDV2.reactDom.render(s.detachedEditor,n):void console.log("FAILED TO INJECT ROOT: .app")}get detachedRoot(){let s=$("#bd-customcss-detach-container");return s.length?s[0]:this.injectDetachedRoot()?this.detachedRoot:null}injectDetachedRoot(){return!!$(".app").length&&($("<div/>",{id:"bd-customcss-detach-container"}).insertAfter($(".app")),!0)}attach(){let s=this;s.setState({detached:!1})}}class V2C_List extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("ul",{className:this.props.className},this.props.children)}}class V2C_ContentColumn extends BDV2.reactComponent{constructor(s){super(s)}render(){return BDV2.react.createElement("div",{className:"content-column default"},BDV2.react.createElement("h2",{className:"ui-form-title h2 margin-reset margin-bottom-20"},this.props.title),this.props.children)}}class V2C_PluginCard extends BDV2.reactComponent{constructor(s){super(s);let n=this;n.onChange=n.onChange.bind(n),n.showSettings=n.showSettings.bind(n),n.setInitialState(),n.hasSettings="function"==typeof n.props.plugin.getSettingsPanel}setInitialState(){this.state={checked:pluginCookie[this.props.plugin.getName()],settings:!1}}componentDidUpdate(){this.state.settings&&"object"==typeof this.settingsPanel&&this.refs.settingspanel.appendChild(this.settingsPanel)}render(){let s=this,{plugin:n}=this.props,r=n.getName(),o=n.getAuthor(),d=n.getDescription(),c=n.getVersion(),l=bdplugins[r].website,u=bdplugins[r].source;if(this.state.settings){let h="";try{h=n.getSettingsPanel()}catch(g){utils.err("Unable to get settings panel for "+n.getName()+".",g)}return BDV2.react.createElement("li",{className:"settings-open ui-switch-item"},BDV2.react.createElement("div",{style:{float:"right",cursor:"pointer"},onClick:()=>{this.refs.settingspanel.innerHTML="",s.setState({settings:!1})}},BDV2.react.createElement(V2Components.XSvg,null)),"object"==typeof h&&BDV2.react.createElement("div",{id:`plugin-settings-${r}`,className:"plugin-settings",ref:"settingspanel"}),"object"!=typeof h&&BDV2.react.createElement("div",{id:`plugin-settings-${r}`,className:"plugin-settings",ref:"settingspanel",dangerouslySetInnerHTML:{__html:h}}))}return BDV2.react.createElement("li",{"data-name":r,"data-version":c,className:"settings-closed ui-switch-item"},BDV2.react.createElement("div",{className:"bda-header"},BDV2.react.createElement("span",{className:"bda-header-title"},BDV2.react.createElement("span",{className:"bda-name"},r)," v",BDV2.react.createElement("span",{className:"bda-version"},c)," by ",BDV2.react.createElement("span",{className:"bda-author"},o)),BDV2.react.createElement("label",{className:"ui-switch-wrapper ui-flex-child",style:{flex:"0 0 auto"}},BDV2.react.createElement("input",{checked:this.state.checked,onChange:this.onChange,className:"ui-switch-checkbox",type:"checkbox"}),BDV2.react.createElement("div",{className:this.state.checked?"ui-switch checked":"ui-switch"}))),BDV2.react.createElement("div",{className:"bda-description-wrap scroller-wrap fade"},BDV2.react.createElement("div",{className:"bda-description scroller"},d)),BDV2.react.createElement("div",{className:"bda-footer"},BDV2.react.createElement("span",{className:"bda-links"},l&&BDV2.react.createElement("a",{className:"bda-link",href:l,target:"_blank"},"Website"),l&&u&&" | ",u&&BDV2.react.createElement("a",{className:"bda-link",href:u,target:"_blank"},"Source")),this.hasSettings&&BDV2.react.createElement("button",{onClick:this.showSettings,className:"bda-settings-button",disabled:!this.state.checked},"Settings")))}onChange(){this.setState({checked:!this.state.checked}),pluginModule.togglePlugin(this.props.plugin.getName())}showSettings(){if(this.hasSettings){this.setState({settings:!0});let s=$(BDV2.reactDom.findDOMNode(this)),n=s.parents(".scroller");n.animate({scrollTop:s.offset().top-n.offset().top+n.scrollTop()-30},1e3)}}}class V2C_ThemeCard extends BDV2.reactComponent{constructor(s){super(s),this.setInitialState(),this.onChange=this.onChange.bind(this)}setInitialState(){this.state={checked:themeCookie[this.props.theme.name]}}render(){let{theme:s}=this.props,n=s.name,r=s.description,o=s.version,d=s.author,c=bdthemes[n].website,l=bdthemes[n].source;return BDV2.react.createElement("li",{"data-name":n,"data-version":o,className:"settings-closed ui-switch-item"},BDV2.react.createElement("div",{className:"bda-header"},BDV2.react.createElement("span",{className:"bda-header-title"},BDV2.react.createElement("span",{className:"bda-name"},n)," v",BDV2.react.createElement("span",{className:"bda-version"},o)," by ",BDV2.react.createElement("span",{className:"bda-author"},d)),BDV2.react.createElement("label",{className:"ui-switch-wrapper ui-flex-child",style:{flex:"0 0 auto"}},BDV2.react.createElement("input",{checked:this.state.checked,onChange:this.onChange,className:"ui-switch-checkbox",type:"checkbox"}),BDV2.react.createElement("div",{className:this.state.checked?"ui-switch checked":"ui-switch"}))),BDV2.react.createElement("div",{className:"bda-description-wrap scroller-wrap fade"},BDV2.react.createElement("div",{className:"bda-description scroller"},r)),BDV2.react.createElement("div",{className:"bda-footer"},BDV2.react.createElement("span",{className:"bda-links"},c&&BDV2.react.createElement("a",{className:"bda-link",href:c,target:"_blank"},"Website"),c&&l&&" | ",l&&BDV2.react.createElement("a",{className:"bda-link",href:l,target:"_blank"},"Source"))))}onChange(){this.setState({checked:!this.state.checked}),themeModule.toggleTheme(this.props.theme.name)}}class V2Cs_TabBar{static get Item(){return V2C_TabBarItem}static get Header(){return V2C_TabBarHeader}static get Separator(){return V2C_TabBarSeparator}}class V2C_Layer extends BDV2.reactComponent{constructor(s){super(s)}componentDidMount(){$(window).on(`keyup.${this.props.id}`,s=>{27===s.which&&BDV2.reactDom.unmountComponentAtNode(this.refs.root.parentNode)})}componentWillUnmount(){$(window).off(`keyup.${this.props.id}`),$(`#${this.props.rootId}`).remove()}render(){return BDV2.react.createElement("div",{className:"layer",id:this.props.id,ref:"root"},this.props.children)}}class V2C_SidebarView extends BDV2.reactComponent{constructor(s){super(s)}render(){let{sidebar:s,content:n}=this.props.children;return BDV2.react.createElement("div",{className:"ui-standard-sidebar-view"},BDV2.react.createElement("div",{className:"sidebar-region"},BDV2.react.createElement(V2Components.Scroller,{key:"sidebarScroller",ref:"sidebarScroller",fade:s.fade||!0,dark:s.dark||!0,children:s.component})),BDV2.react.createElement("div",{className:"content-region"},BDV2.react.createElement(V2Components.Scroller,{key:"contentScroller",ref:"contentScroller",fade:n.fade||!0,dark:n.dark||!0,children:n.component})))}}class V2C_ServerCard extends BDV2.reactComponent{constructor(s){super(s)}render(){let{server:s}=this.props;return BDV2.react.createElement("div",{className:`ui-card ui-card-primary bd-server-card${s.pinned?" bd-server-card-pinned":""}`,style:{marginTop:"5px"}},BDV2.react.createElement("div",{className:"ui-flex horizontal",style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start",alignItems:"stretch",flex:"1 1 auto"}},BDV2.react.createElement("div",{className:"ui-flex-child",style:{flex:"0 1 auto",padding:"5px"}},BDV2.react.createElement("div",{className:"bd-pubs-server-icon",style:{width:"100px",height:"100px",backgroundSize:"cover",backgroundImage:`url(${s.icon})`}})),BDV2.react.createElement("div",{className:"ui-flex-child",style:{flex:"1 1 auto",padding:"5px"}},BDV2.react.createElement("div",{className:"ui-flex horizontal"},BDV2.react.createElement("div",{className:"ui-form-item",style:{flex:"1 1 auto"}},BDV2.react.createElement("h5",{className:"ui-form-title h5 margin-reset"},s.name)),BDV2.react.createElement("div",{className:"ui-form-item"},BDV2.react.createElement("h5",{className:"ui-form-title h5 margin-reset"},s.online,"/",s.members," Members"))),BDV2.react.createElement("div",{className:"ui-flex horizontal"},BDV2.react.createElement("div",{className:"scroller-wrap fade dark",style:{minHeight:"60px",maxHeight:"60px",borderTop:"1px solid #3f4146",borderBottom:"1px solid #3f4146",paddingTop:"5px"}},BDV2.react.createElement("div",{className:"scroller"},BDV2.react.createElement("div",{style:{fontSize:"13px",color:"#b9bbbe"}},s.description)))),BDV2.react.createElement("div",{className:"ui-flex horizontal"},BDV2.react.createElement("div",{className:"ui-flex-child bd-server-tags",style:{flex:"1 1 auto"}},s.categories.join(", ")),s.joined&&BDV2.react.createElement("button",{type:"button",className:"ui-button filled brand small grow disabled",style:{minHeight:"12px",marginTop:"4px",backgroundColor:"#3ac15c"}},BDV2.react.createElement("div",{className:"ui-button-contents"},"Joined")),s.error&&BDV2.react.createElement("button",{type:"button",className:"ui-button filled brand small grow disabled",style:{minHeight:"12px",marginTop:"4px",backgroundColor:"#c13a3a"}},BDV2.react.createElement("div",{className:"ui-button-contents"},"Error")),!s.error&&!s.joined&&BDV2.react.createElement("button",{type:"button",className:"ui-button filled brand small grow",style:{minHeight:"12px",marginTop:"4px"},onClick:()=>{this.join(s.identifier)}},BDV2.react.createElement("div",{className:"ui-button-contents"},"Join"))))))}join(){let s=this;s.props.join(s.props.server)}}class V2Components{static get SettingsPanel(){return V2C_SettingsPanel}static get Switch(){return V2C_Switch}static get Scroller(){return V2C_Scroller}static get TabBar(){return V2Cs_TabBar}static get SideBar(){return V2C_SideBar}static get Tools(){return V2C_Tools}static get SettingsTitle(){return V2C_SettingsTitle}static get CssEditor(){return V2C_CssEditor}static get Checkbox(){return V2C_Checkbox}static get List(){return V2C_List}static get PluginCard(){return V2C_PluginCard}static get ThemeCard(){return V2C_ThemeCard}static get ContentColumn(){return V2C_ContentColumn}static get XSvg(){return V2C_XSvg}static get Layer(){return V2C_Layer}static get SidebarView(){return V2C_SidebarView}static get ServerCard(){return V2C_ServerCard}}class V2_SettingsPanel_Sidebar{constructor(s){this.onClick=s}get items(){return[{text:"Core",id:"core"},{text:"Emotes",id:"emotes"},{text:"Custom CSS",id:"customcss"},{text:"Plugins",id:"plugins"},{text:"Themes",id:"themes"}]}get component(){return BDV2.react.createElement("span",null,BDV2.react.createElement(V2Components.SideBar,{onClick:this.onClick,headerText:"BetterDiscord",items:this.items}),BDV2.react.createElement("span",{style:{fontSize:"12px",fontWeight:"600",color:"#72767d",padding:"6px 10px"}},`v${bdVersion}:${jsVersion} by `,BDV2.react.createElement("a",{href:"https://github.com/Jiiks/",target:"_blank"},"Jiiks")))}get root(){let s=$("#bd-settings-sidebar");return s.length?s[0]:this.injectRoot()?this.root:null}injectRoot(){let s=$("[class*=side] > [class*=item]:not([class*=Danger])").last();return!!s.length&&($("<span/>",{id:"bd-settings-sidebar"}).insertBefore(s.prev()),!0)}render(){let s=this.root;return s?void BDV2.reactDom.render(this.component,s):void console.log("FAILED TO LOCATE ROOT: [class*=side] > [class*=item]:not([class*=Danger])")}}class V2_SettingsPanel{constructor(){let s=this;s.sideBarOnClick=s.sideBarOnClick.bind(s),s.onChange=s.onChange.bind(s),s.updateSettings=this.updateSettings.bind(s),s.sidebar=new V2_SettingsPanel_Sidebar(s.sideBarOnClick)}get root(){let s=$("#bd-settingspane-container");return s.length?s[0]:this.injectRoot()?this.root:null}injectRoot(){return!!$(".layer .ui-standard-sidebar-view").length&&($(".layer .ui-standard-sidebar-view").append($("<div/>",{class:"content-region",id:"bd-settingspane-container"})),!0)}get coreSettings(){return this.getSettings("core")}get emoteSettings(){return this.getSettings("emote")}getSettings(s){return Object.keys(settings).reduce((n,r)=>{let o=settings[r];return o.cat===s&&o.implemented&&!o.hidden&&(o.text=r,n.push(o)),n},[])}sideBarOnClick(s){let n=this;$(".content-region").first().hide(),$(n.root).show();"core"===s?n.renderCoreSettings():"emotes"===s?n.renderEmoteSettings():"customcss"===s?n.renderCustomCssEditor():"plugins"===s?n.renderPluginPane():"themes"===s?n.renderThemePane():void 0}onClick(){}onChange(s,n){settingsCookie[s]=n,this.updateSettings()}updateSettings(){let s=settingsCookie;if(s["bda-es-0"]?$("#twitchcord-button-container").show():$("#twitchcord-button-container").hide(),s["bda-gs-b"]?$("body").addClass("bd-blue"):$("body").removeClass("bd-blue"),s["bda-gs-2"]?$("body").addClass("bd-minimal"):$("body").removeClass("bd-minimal"),s["bda-gs-3"]?$("body").addClass("bd-minimal-chan"):$("body").removeClass("bd-minimal-chan"),s["bda-gs-1"]?$("#bd-pub-li").show():$("#bd-pub-li").hide(),s["bda-gs-4"]?voiceMode.enable():voiceMode.disable(),s["bda-gs-5"]?$("#app-mount").addClass("bda-dark"):$("#app-mount").removeClass("bda-dark"),document.querySelector(".messages")){let r=document.querySelector(".messages");s["bda-gs-6"]?mainCore.inject24Hour(r):mainCore.remove24Hour(r),s["bda-gs-7"]&&document.querySelector(".messages")?mainCore.injectColoredText(r):mainCore.removeColoredText(r)}if(s["bda-es-6"]){var n=$("<div class='tipsy tipsy-se' style='display: block; top: 82px; left: 1630.5px; visibility: visible; opacity: 0.8;'><div class='tipsy-inner'></div></div>");$(document).on("mouseover",".emote",function(){var r=$(this),o=r.offset(),d=r.attr("alt"),c=r.attr("class").replace(/emote/g,"").trim();c&&(d=d+":"+c),n.find(".tipsy-inner").text(d),$(".app").append($(n));var l=o.left+r.outerWidth()/2;n.css("left",l-n.outerWidth()/2),n.css("top",o.top-n.outerHeight())}),$(document).on("mouseleave",".emote",function(){$(".tipsy").remove()})}else $(document).off("mouseover",".emote");s["bda-gs-8"]?dMode.enable(s["bda-gs-11"]):dMode.disable(),mainCore.saveSettings()}renderSidebar(){let s=this;$("[class*=side] > [class*=item]").off("click.v2settingspanel").on("click.v2settingspanel",()=>{BDV2.reactDom.unmountComponentAtNode(s.root),$(s.root).hide(),$(".content-region").first().show()}),s.sidebar.render()}get coreComponent(){return BDV2.react.createElement(V2Components.Scroller,{fade:!0,dark:!0,children:[BDV2.react.createElement(V2Components.SettingsPanel,{key:"cspanel",title:"Core Settings",onChange:this.onChange,settings:this.coreSettings}),BDV2.react.createElement(V2Components.Tools,{key:"tools"})]})}get emoteComponent(){return BDV2.react.createElement(V2Components.Scroller,{fade:!0,dark:!0,children:[BDV2.react.createElement(V2Components.SettingsPanel,{key:"espanel",title:"Emote Settings",onChange:this.onChange,settings:this.emoteSettings}),BDV2.react.createElement(V2Components.Tools,{key:"tools"})]})}get customCssComponent(){return BDV2.react.createElement(V2Components.Scroller,{fade:!0,dark:!0,children:[BDV2.react.createElement(V2Components.CssEditor,{key:"csseditor"}),BDV2.react.createElement(V2Components.Tools,{key:"tools"})]})}get pluginsComponent(){let s=Object.keys(bdplugins).reduce((d,c)=>{return d.push(BDV2.react.createElement(V2Components.PluginCard,{key:c,plugin:bdplugins[c].plugin})),d},[]),n=BDV2.react.createElement(V2Components.List,{key:"plugin-list",className:"bda-slist",children:s}),r=BDV2.react.createElement("button",{key:"folder-button",className:"bd-pfbtn",onClick:()=>{betterDiscordIPC.send("asynchronous-message",{arg:"opendir",path:"plugindir"})}},"Open Plugin Folder"),o=BDV2.react.createElement(V2Components.ContentColumn,{key:"pcolumn",title:"Plugins",children:[r,n]});return BDV2.react.createElement(V2Components.Scroller,{fade:!0,dark:!0,children:[o,BDV2.react.createElement(V2Components.Tools,{key:"tools"})]})}get themesComponent(){let s=Object.keys(bdthemes).reduce((d,c)=>{return d.push(BDV2.react.createElement(V2Components.ThemeCard,{key:c,theme:bdthemes[c]})),d},[]),n=BDV2.react.createElement(V2Components.List,{key:"theme-list",className:"bda-slist",children:s}),r=BDV2.react.createElement("button",{key:"folder-button",className:"bd-pfbtn",onClick:()=>{betterDiscordIPC.send("asynchronous-message",{arg:"opendir",path:"themedir"})}},"Open Theme Folder"),o=BDV2.react.createElement(V2Components.ContentColumn,{key:"tcolumn",title:"Themes",children:[r,n]});return BDV2.react.createElement(V2Components.Scroller,{fade:!0,dark:!0,children:[o,BDV2.react.createElement(V2Components.Tools,{key:"tools"})]})}renderCoreSettings(){let s=this.root;return s?void BDV2.reactDom.render(this.coreComponent,s):void console.log("FAILED TO LOCATE ROOT: .layer .ui-standard-sidebar-view")}renderEmoteSettings(){let s=this.root;return s?void BDV2.reactDom.render(this.emoteComponent,s):void console.log("FAILED TO LOCATE ROOT: .layer .ui-standard-sidebar-view")}renderCustomCssEditor(){let s=this.root;return s?void BDV2.reactDom.render(this.customCssComponent,s):void console.log("FAILED TO LOCATE ROOT: .layer .ui-standard-sidebar-view")}renderPluginPane(){let s=this.root;return s?void BDV2.reactDom.render(this.pluginsComponent,s):void console.log("FAILED TO LOCATE ROOT: .layer .ui-standard-sidebar-view")}renderThemePane(){let s=this.root;return s?void BDV2.reactDom.render(this.themesComponent,s):void console.log("FAILED TO LOCATE ROOT: .layer .ui-standard-sidebar-view")}}